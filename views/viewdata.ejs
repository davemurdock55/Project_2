<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Victim Data</title>
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="css/styles.css" rel="stylesheet" />
    <style>
        table, th, td 
        {
            border-collapse: collapse;
            border: 1px solid;
            text-align: center;
        }
    </style>
</head>
<body>
    Victim Data (UT)
    <br><br>
    <!-- <script>
        //JSON ARRAY OF JSON Objects WITH KEYS AND VALUES
        //This array contains 4 elements/records
        //Each element is an OBJECT
        let list =  
        [

        {"case": 1,"date_missing": "10/30/2009","last_name": "Sharmarice","first_name": "Halima","age_at_missing": "14","city": "Granger","state": "UT","gender": "F","race": "W"},
        {"case": 2,"date_missing": "10/16/2015","last_name": "Martinez","first_name": "Kimberly","age_at_missing": "16","city": "West Valley City","state": "UT","gender": "F","race": "M"},
        {"case": 3,"date_missing": "07/23/2004","last_name": "Gomez","first_name": "Brenda","age_at_missing": "3","city": "Logan","state": "UT","gender": "F","race": "H"},
        {"case": 4,"date_missing": "05/25/2003","last_name": "Bishop","first_name": "Acacia","age_at_missing": "1","city": "Salt Lake City","state": "UT","gender": "F","race": "W"},
        {"case": 5,"date_missing": "08/03/2020","last_name": "Salazar","first_name": "Maria","age_at_missing": "14","city": "Snowville","state": "UT","gender": "F","race": "H"},
        {"case": 6,"date_missing": "04/09/2020","last_name": "Hernandez-Soto","first_name": "Peggy","age_at_missing": "6","city": "Ogden","state": "UT","gender": "F","race": "H"},
        {"case": 7,"date_missing": "06/24/2021","last_name": "Jimenez","first_name": "Lucero","age_at_missing": "14","city": "West Valley City","state": "UT","gender": "F","race": "H"},
        {"case": 8,"date_missing": "11/08/2013","last_name": "Colindres-Avila","first_name": "Yuris","age_at_missing": "17","city": "West Valley City","state": "UT","gender": "F","race": "M"},
        {"case": 9,"date_missing": "07/15/2021","last_name": "Harris","first_name": "Kandis","age_at_missing": "16","city": "Salt Lake City","state": "UT","gender": "F","race": "W"},
        {"case": 10,"date_missing": "07/30/2006","last_name": "Seal","first_name": "Jaydan","age_at_missing": "1","city": "Garleys Wash","state": "UT","gender": "M","race": "W"},
        {"case": 11,"date_missing": "06/13/2018","last_name": "Lizarraga","first_name": "Jose","age_at_missing": "13","city": "West Valley City","state": "UT","gender": "M","race": "H"},
        {"case": 12,"date_missing": "04/23/2020","last_name": "Cortez Trujillo","first_name": "Eztli","age_at_missing": "21","city": "North Ogden","state": "UT","gender": "M","race": "H"},
        {"case": 13,"date_missing": "10/25/2017","last_name": "Fowles","first_name": "Juan","age_at_missing": "15","city": "Lehi","state": "UT","gender": "M","race": "M"},
        {"case": 14,"date_missing": "08/20/2012","last_name": "Garcia","first_name": "Isai","age_at_missing": "17","city": "West Valley City","state": "UT","gender": "M","race": "M"},
        {"case": 15,"date_missing": "09/01/2015","last_name": "Smith","first_name": "Macin","age_at_missing": "17","city": "St. George","state": "UT","gender": "M","race": "W"},
        {"case": 16,"date_missing": "01/26/2006","last_name": "Sisco-Ramirez","first_name": "Jose","age_at_missing": "4","city": "West Valley City","state": "UT","gender": "M","race": "M"}

        ] ; 

        //Begin the table by writing an HTML table tag to the DOM
        document.write("<table>");

        //Begin the head section of the table
        document.write("<thead>");        

        //Create the first row
        document.write("<tr>");

        //This loop displays the headers
        //For every element in the array
        //Grab the first element and the first position in the element
        //First time would grab the key for the first element which would be UserID

        function toTitleCase(str) {
        return str.replace(
            /\w\S*/g,
            function(txt) {
            return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();
            }
        );
        }

        for (key in list[0]) 
        {
            // key = key.replace("_"," ");
            // key = key.replace("_"," ");
            // key = toTitleCase(key);
            //Create a new column and display the value from the array (i.e. UserID, UserName, Password, etc.)
            document.write('<th style="font-weight: bold;">' + key + '</th>');
        }

        document.write("</tr>");
        document.write("</thead>"); 

        //Begin the body section of the table
        document.write("<tbody>");    

        //For each element in the JSON array create a new table row
        for (var iRow = 0; iRow < list.length; iRow++) 
        {
            //Create the row
            document.write('<tr>');

            //Create the column and display the value for the element
            document.write('<td>' + list[iRow].case + '</td>');
            document.write('<td>' + list[iRow].date_missing + '</td>');
            document.write('<td>' + list[iRow].last_name + '</td>');
            document.write('<td>' + list[iRow].first_name + '</td>');
            document.write('<td>' + list[iRow].age_at_missing + '</td>');
            document.write('<td>' + list[iRow].city + '</td>');  
            document.write('<td>' + list[iRow].state + '</td>');
            document.write('<td>' + list[iRow].gender + '</td>');
            document.write('<td>' + list[iRow].race + '</td>');
            document.write('</tr>');
        }

        document.write("</tbody>");
        document.write("</table>");
    </script> -->
    <br>
    

    <table>
        <thead>
            <tr>All Cases (Raw Data)</tr>
            <tr>
                <!-- <th>Case</th> -->
                <th>Date Missing</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Age At Missing</th>
                <th>City</th>
                <th>State</th>
                <th>Gender</th>
                <th>Race</th>
                <th>Edit</th>
                <th>Delete</th>
            </tr>
        </thead>
        <tbody>
            <% for (let iCount = 0; iCount < aCases.length; iCount++) 
            { %>
                <tr>
                    <!-- <td><%= aCases[iCount].case %></td> -->
                    <td><!-- <%= aCases[iCount].date_missing.toDateString() %> -->
                        <%= aCases[iCount].date_missing.getMonth() +1 %>/<%= aCases[iCount].date_missing.getDate() %>/<%= aCases[iCount].date_missing.getFullYear() %>
                    </td>
                    <td><%= aCases[iCount].first_name %></td>
                    <td><%= aCases[iCount].last_name %></td>
                    <td><%= aCases[iCount].age_at_missing %></td>
                    <td><%= aCases[iCount].city %></td>
                    <td><%= aCases[iCount].state %></td>
                    <td><%= aCases[iCount].gender %></td>
                    <td><%= aCases[iCount].race %></td>
                    <td>
                        <form method="get" action="/edit/<%= aCases[iCount].case %>" class="btn-form">
                            <button type="submit">Edit</button>
                        </form>
                    </td>
                    <td>
                        <form method="get" action="/delete/<%= aCases[iCount].case %>" class="btn-form">
                            <button type="submit">Delete</button>
                        </form>
                    </td>
                </tr>
            <% } %>
        </tbody>
    </table>
    <br><br>
    <!-- <a href="/adddonut">Add A New Donut</a> -->
    <form method="get" action="/addcase">
        <button type="submit">Report a Case</button>
    </form>

    <br>
    <br>

    <label for="">Steps to download data:
        <ol>
            <li>Open excel</li>
            <li>Create new file</li>
            <li>Edit->paste->paste-special->values-only</li>
    
        </ol>
        </label>
</body>
</html>